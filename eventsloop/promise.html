<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>promise</title>
</head>
<body>
  <script>
    function runpromise(){
      return new Promise((resolve,reject)=>{
        console.log('执行到此')
        resolve('成功')
        rejec('失败')
      })
    }
    runpromise().then(res=>{
      console.log(res)
    })

    Promise.resolve('成功').then((data)=>{
      console.log(data)
    })

    Promise.resolve('失败').then(err=>{
      console.log(err)
    })

    new Promise((resolve,reject)=>{
      if(false){
        resolve('成功')
      }else{
        reject('err')
      }
    }).then(res=>{
      console.log(res)
    },err=>{
      console.log(err)
    })

    new Promise((resolve,reject)=>{
      if(false){
        resolve('成功')
      }else{
        reject('err2')
      }
    }).then(res=>{
      console.log(res)
    }).catch(err=>{
      console.log(err)
    })

    console.log('all====race')

    let p1 = Promise.resolve('111')
    let p2 = Promise.resolve('222')
    let p3 = Promise.resolve('333')
    Promise.all([p1,p2,p3]).then(res=>{
      let [q,w,e]=res
      console.log(res)
      console.log(q,w,e)
    })

    let pp1 = Promise.resolve('成功1')
    let pp2 = Promise.resolve('成功2')
    let pp3 = Promise.reject('失败1')
    Promise.race([pp2,pp1,pp3]).then(res=>{
      console.log(res)
    })

    console.log('=======')
    
    Promise.resolve(function(){
      console.log('resolve里面的回调')
    }).then(res=>{
      res()
    })

    console.log('settime')
    
    setTimeout(() => {
      console.log('0ms')
    }, 0);

    setTimeout(() => {
      console.log('1000ms')
    }, 1000);

  </script>
</body>
</html>